-- alias_name captures variants from source datasets, canonical_name is stored in regions.name
CREATE TEMP TABLE IF NOT EXISTS _region_aliases (code text, alias_name text, canonical_name text);
TRUNCATE _region_aliases;
INSERT INTO _region_aliases (code, alias_name, canonical_name) VALUES
  ('RU-AD','Республика Адыгея','Республика Адыгея'),
  ('RU-AD','Адыгея','Республика Адыгея'),
  ('RU-AL','Республика Алтай','Республика Алтай'),
  ('RU-AL','Алтай','Республика Алтай'),
  ('RU-ALT','Алтайский край','Алтайский край'),
  ('RU-ALT','Алтай край','Алтайский край'),
  ('RU-ALT','Алтайский','Алтайский край'),
  ('RU-AMU','Амурская область','Амурская область'),
  ('RU-ARK','Архангельская область','Архангельская область'),
  ('RU-AST','Астраханская область','Астраханская область'),
  ('RU-BA','Республика Башкортостан','Республика Башкортостан'),
  ('RU-BA','Башкирия','Республика Башкортостан'),
  ('RU-BA','Башкортостан','Республика Башкортостан'),
  ('RU-BEL','Белгородская область','Белгородская область'),
  ('RU-BRY','Брянская область','Брянская область'),
  ('RU-BU','Республика Бурятия','Республика Бурятия'),
  ('RU-BU','Бурятия','Республика Бурятия'),
  ('RU-CE','Чеченская Республика','Чеченская Республика'),
  ('RU-CE','Чеченская республика','Чеченская Республика'),
  ('RU-CE','Чечня','Чеченская Республика'),
  ('RU-CHE','Челябинская область','Челябинская область'),
  ('RU-CHU','Чукотский автономный округ','Чукотский автономный округ'),
  ('RU-CHU','Чукотский АО','Чукотский автономный округ'),
  ('RU-CR','Республика Крым','Республика Крым'),
  ('RU-CR','Автономна Республіка Крим','Республика Крым'),
  ('RU-CR','Автономная Республика Крым','Республика Крым'),
  ('RU-CU','Чувашская Республика','Чувашская Республика'),
  ('RU-CU','Чувашия','Чувашская Республика'),
  ('RU-DA','Республика Дагестан','Республика Дагестан'),
  ('RU-DA','Дагестан','Республика Дагестан'),
  ('RU-DON','Донецкая Народная Республика','Донецкая Народная Республика'),
  ('RU-DON','Donetsk Oblast','Донецкая Народная Республика'),
  ('RU-DON','Donetsk People''s Republic','Донецкая Народная Республика'),
  ('RU-DON','Донецкая НР','Донецкая Народная Республика'),
  ('RU-DON','Донецкая область','Донецкая Народная Республика'),
  ('RU-DON','Донецька область','Донецкая Народная Республика'),
  ('RU-HR','Херсонская область','Херсонская область'),
  ('RU-HR','Kherson Oblast','Херсонская область'),
  ('RU-HR','Херсонская обл.','Херсонская область'),
  ('RU-HR','Херсонська область','Херсонская область'),
  ('RU-IN','Республика Ингушетия','Республика Ингушетия'),
  ('RU-IN','Ингушетия','Республика Ингушетия'),
  ('RU-IRK','Иркутская область','Иркутская область'),
  ('RU-IVA','Ивановская область','Ивановская область'),
  ('RU-KAM','Камчатский край','Камчатский край'),
  ('RU-KB','Кабардино-Балкарская Республика','Кабардино-Балкарская Республика'),
  ('RU-KB','Кабардино-Балкария','Кабардино-Балкарская Республика'),
  ('RU-KC','Карачаево-Черкесская Республика','Карачаево-Черкесская Республика'),
  ('RU-KC','Карачаево-Черкесия','Карачаево-Черкесская Республика'),
  ('RU-KDA','Краснодарский край','Краснодарский край'),
  ('RU-KEM','Кемеровская область','Кемеровская область'),
  ('RU-KGD','Калининградская область','Калининградская область'),
  ('RU-KGN','Курганская область','Курганская область'),
  ('RU-KHA','Хабаровский край','Хабаровский край'),
  ('RU-KHM','Ханты-Мансийский автономный округ — Югра','Ханты-Мансийский автономный округ — Югра'),
  ('RU-KHM','Ханты-Мансийский АО','Ханты-Мансийский автономный округ — Югра'),
  ('RU-KIR','Кировская область','Кировская область'),
  ('RU-KK','Республика Хакасия','Республика Хакасия'),
  ('RU-KK','Хакасия','Республика Хакасия'),
  ('RU-KL','Республика Калмыкия','Республика Калмыкия'),
  ('RU-KL','Калмыкия','Республика Калмыкия'),
  ('RU-KLU','Калужская область','Калужская область'),
  ('RU-KO','Республика Коми','Республика Коми'),
  ('RU-KOS','Костромская область','Костромская область'),
  ('RU-KR','Республика Карелия','Республика Карелия'),
  ('RU-KR','Карелия','Республика Карелия'),
  ('RU-KRS','Курская область','Курская область'),
  ('RU-KYA','Красноярский край','Красноярский край'),
  ('RU-LEN','Ленинградская область','Ленинградская область'),
  ('RU-LIP','Липецкая область','Липецкая область'),
  ('RU-LUG','Луганская Народная Республика','Луганская Народная Республика'),
  ('RU-LUG','Luhansk Oblast','Луганская Народная Республика'),
  ('RU-LUG','Luhansk People''s Republic','Луганская Народная Республика'),
  ('RU-LUG','Луганская НР','Луганская Народная Республика'),
  ('RU-LUG','Луганская область','Луганская Народная Республика'),
  ('RU-LUG','Луганська область','Луганская Народная Республика'),
  ('RU-MAG','Магаданская область','Магаданская область'),
  ('RU-ME','Республика Марий Эл','Республика Марий Эл'),
  ('RU-ME','Марий Эл','Республика Марий Эл'),
  ('RU-MO','Республика Мордовия','Республика Мордовия'),
  ('RU-MO','Мордовия','Республика Мордовия'),
  ('RU-MOS','Московская область','Московская область'),
  ('RU-MOW','Москва','Москва'),
  ('RU-MUR','Мурманская область','Мурманская область'),
  ('RU-NEN','Ненецкий автономный округ','Ненецкий автономный округ'),
  ('RU-NEN','Ненецкий АО','Ненецкий автономный округ'),
  ('RU-NGR','Новгородская область','Новгородская область'),
  ('RU-NIZ','Нижегородская область','Нижегородская область'),
  ('RU-NVS','Новосибирская область','Новосибирская область'),
  ('RU-OMS','Омская область','Омская область'),
  ('RU-ORE','Оренбургская область','Оренбургская область'),
  ('RU-ORL','Орловская область','Орловская область'),
  ('RU-PER','Пермский край','Пермский край'),
  ('RU-PNZ','Пензенская область','Пензенская область'),
  ('RU-PRI','Приморский край','Приморский край'),
  ('RU-PRI','Приморье','Приморский край'),
  ('RU-PSK','Псковская область','Псковская область'),
  ('RU-ROS','Ростовская область','Ростовская область'),
  ('RU-ROS','Rostov Oblast','Ростовская область'),
  ('RU-ROS','Ростовская обл.','Ростовская область'),
  ('RU-RYA','Рязанская область','Рязанская область'),
  ('RU-RYA','Ryazan Oblast','Рязанская область'),
  ('RU-RYA','Рязанская обл.','Рязанская область'),
  ('RU-SA','Республика Саха (Якутия)','Республика Саха (Якутия)'),
  ('RU-SA','Саха','Республика Саха (Якутия)'),
  ('RU-SA','Якутия','Республика Саха (Якутия)'),
  ('RU-SAK','Сахалинская область','Сахалинская область'),
  ('RU-SAK','Sakhalin Oblast','Сахалинская область'),
  ('RU-SAK','Сахалинская обл.','Сахалинская область'),
  ('RU-SAM','Самарская область','Самарская область'),
  ('RU-SAR','Саратовская область','Саратовская область'),
  ('RU-SE','Республика Северная Осетия — Алания','Республика Северная Осетия — Алания'),
  ('RU-SE','Северная Осетия — Алания','Республика Северная Осетия — Алания'),
  ('RU-SE','Северная Осетия-Алания','Республика Северная Осетия — Алания'),
  ('RU-SEV','Севастополь','Севастополь'),
  ('RU-SEV','город Севастополь','Севастополь'),
  ('RU-SEV','город федерального значения Севастополь','Севастополь'),
  ('RU-SEV','Чернореченский','Севастополь'),
  ('RU-SEV','Чернореченский муниципальный округ','Севастополь'),
  ('RU-SMO','Смоленская область','Смоленская область'),
  ('RU-SPE','Санкт-Петербург','Санкт-Петербург'),
  ('RU-SPE','Ленинград','Санкт-Петербург'),
  ('RU-SPE','Петербург','Санкт-Петербург'),
  ('RU-SPE','Санкт Петербург','Санкт-Петербург'),
  ('RU-STA','Ставропольский край','Ставропольский край'),
  ('RU-SVE','Свердловская область','Свердловская область'),
  ('RU-TA','Республика Татарстан','Республика Татарстан'),
  ('RU-TA','Татарстан','Республика Татарстан'),
  ('RU-TAM','Тамбовская область','Тамбовская область'),
  ('RU-TOM','Томская область','Томская область'),
  ('RU-TUL','Тульская область','Тульская область'),
  ('RU-TVE','Тверская область','Тверская область'),
  ('RU-TY','Республика Тыва','Республика Тыва'),
  ('RU-TY','Тыва','Республика Тыва'),
  ('RU-TYU','Тюменская область','Тюменская область'),
  ('RU-UD','Удмуртская Республика','Удмуртская Республика'),
  ('RU-UD','Удмуртия','Удмуртская Республика'),
  ('RU-ULY','Ульяновская область','Ульяновская область'),
  ('RU-VGG','Волгоградская область','Волгоградская область'),
  ('RU-VLA','Владимирская область','Владимирская область'),
  ('RU-VLG','Вологодская область','Вологодская область'),
  ('RU-VOR','Воронежская область','Воронежская область'),
  ('RU-YAN','Ямало-Ненецкий автономный округ','Ямало-Ненецкий автономный округ'),
  ('RU-YAN','Ямало-Ненецкий АО','Ямало-Ненецкий автономный округ'),
  ('RU-YAR','Ярославская область','Ярославская область'),
  ('RU-YEV','Еврейская автономная область','Еврейская автономная область'),
  ('RU-ZAB','Забайкальский край','Забайкальский край'),
  ('RU-ZP','Запорожская область','Запорожская область'),
  ('RU-ZP','Zaporizhzhia Oblast','Запорожская область'),
  ('RU-ZP','Запорожская обл.','Запорожская область'),
  ('RU-ZP','Запорізька область','Запорожская область');
CREATE INDEX IF NOT EXISTS idx_region_alias_name ON _region_aliases (lower(alias_name));
CREATE INDEX IF NOT EXISTS idx_region_alias_code ON _region_aliases (code);
